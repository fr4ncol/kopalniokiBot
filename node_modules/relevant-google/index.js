const snekfetch = require('snekfetch')

module.exports = class Google {
    constructor(api) {
      if(!api) throw new Error('No API key.')
      this.api = api;
    }

    search(query, one) {
      if(!one) {
        return snekfetch.get(`https://www.googleapis.com/customsearch/v1?key=${this.api}&cx=013036536707430787589:_pqjad5hr1a&q=${query}`)
        .then(res => res ? res.body.items[0] : Promise.reject(null))
      } else {
        return snekfetch.get(`https://www.googleapis.com/customsearch/v1?key=${this.api}&cx=013036536707430787589:_pqjad5hr1a&q=${query}`)
        .then(res => res ? res.body.items : Promise.reject(null))
      }
    }
};
